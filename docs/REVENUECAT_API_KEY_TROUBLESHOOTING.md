# üîë –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ "Invalid API Key"

## ‚ùå –û—à–∏–±–∫–∞

```
PurchasesError(code=InvalidCredentialsError, 
underlyingErrorMessage=Invalid API Key.)
```

## üîç –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã

### 1. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∫–ª—é—á–∞

**Android –∫–ª—é—á–∏ –¥–æ–ª–∂–Ω—ã –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å:**
- –¢–µ—Å—Ç–æ–≤—ã–π: `goog_test_...` (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
- –ü—Ä–æ–¥–∞–∫—à–Ω: `goog_...` (–¥–ª—è release)

**iOS –∫–ª—é—á–∏ –¥–æ–ª–∂–Ω—ã –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å:**
- –¢–µ—Å—Ç–æ–≤—ã–π: `appl_test_...`
- –ü—Ä–æ–¥–∞–∫—à–Ω: `appl_...`

### 2. –ö–ª—é—á –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–æ–µ–∫—Ç—É/–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é

- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–ª—é—á –≤–∑—è—Ç –∏–∑ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ RevenueCat
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–ª—é—á –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã (Android/iOS)
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Package Name –≤ RevenueCat —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –≤–∞—à–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º

### 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø –∫–ª—é—á–∞

- ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **Secret API Keys**
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **Public SDK Keys**

### 4. –ö–ª—é—á —É—Å—Ç–∞—Ä–µ–ª –∏–ª–∏ –±—ã–ª –∏–∑–º–µ–Ω–µ–Ω

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ Dashboard, –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è –ª–∏ –∫–ª—é—á
- –í–æ–∑–º–æ–∂–Ω–æ, –Ω—É–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–ª—é—á –∑–∞–Ω–æ–≤–æ

---

## ‚úÖ –ü–æ—à–∞–≥–æ–≤–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–ª—é—á –≤ RevenueCat Dashboard

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [https://app.revenuecat.com/](https://app.revenuecat.com/)
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Project Settings** ‚Üí **API Keys**
4. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"Public SDK Keys"**
5. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã —Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ **–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**:
   - Android –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å Package `com.aidkit`
6. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á –∑–∞–Ω–æ–≤–æ:
   - **Android Public SDK Key** (–¥–ª—è Android)

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç –∫–ª—é—á–∞

Android –∫–ª—é—á –¥–æ–ª–∂–µ–Ω –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:
- –¢–µ—Å—Ç–æ–≤—ã–π: `goog_test_XXXXXXXXXXXXXXXXXXXXXX`
- –ü—Ä–æ–¥–∞–∫—à–Ω: `goog_XXXXXXXXXXXXXXXXXXXXXX`

‚ö†Ô∏è **–ï—Å–ª–∏ –∫–ª—é—á –Ω–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `goog_`** ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–ª—é—á!

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Package Name

1. –í RevenueCat Dashboard ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ Android –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ **Package Name**: –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `com.aidkit`
3. –í —Ñ–∞–π–ª–µ `android/app/build.gradle` –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
   ```gradle
   applicationId "com.aidkit"
   ```
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–Ω–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç!

### –®–∞–≥ 4: –û–±–Ω–æ–≤–∏—Ç—å –∫–ª—é—á –≤ –∫–æ–¥–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ `src/shared/lib/subscriptionConfig.ts`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–ª—é—á –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞:

```typescript
export const REVENUECAT_API_KEY_ANDROID = __DEV__
  ? 'goog_test_XXXXXXXXXXXXXXXXXXXXXX' // Test key (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å goog_test_)
  : 'goog_XXXXXXXXXXXXXXXXXXXXXX'       // Production key (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å goog_)
```

3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Metro bundler: `yarn start --reset-cache`
5. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

---

## üß™ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: –í—ã–≤–æ–¥–∏–º –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–ª—é—á

–î–æ–±–∞–≤—å—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–π –ª–æ–≥ –≤ `subscription.ts`:

```typescript
async initialize(userId?: string): Promise<void> {
  // ...
  const apiKey = getRevenueCatApiKey()
  console.log('üîë Using RevenueCat API Key:', apiKey.substring(0, 20) + '...')
  console.log('üì± Platform:', Platform.OS)
  console.log('üîß Dev mode:', __DEV__)
  // ...
}
```

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏:
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ª–∏ –∫–ª—é—á –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è?
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞?
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ª–∏ —Ä–µ–∂–∏–º (dev/prod)?

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∫–ª—é—á–µ–π

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á –∏–∑ RevenueCat Dashboard
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á –∏–∑ `subscriptionConfig.ts`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–Ω–∏ **–ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–¥–µ–Ω—Ç–∏—á–Ω—ã** (–±–µ–∑ –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤, —Å–∏–º–≤–æ–ª–æ–≤)

---

## üîÑ –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏

### –û—à–∏–±–∫–∞ 1: –ö–ª—é—á –±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞ `goog_`

‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:**
```typescript
'test_IDMKsubhImwaDGeDtPsuIZguwUb'
```

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ:**
```typescript
'goog_test_IDMKsubhImwaDGeDtPsuIZguwUb'
```

### –û—à–∏–±–∫–∞ 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Secret Key –≤–º–µ—Å—Ç–æ Public Key

‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Secret API Key (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `sk_`)

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Public SDK Key (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `goog_` –∏–ª–∏ `appl_`)

### –û—à–∏–±–∫–∞ 3: –ö–ª—é—á –æ—Ç –¥—Ä—É–≥–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–ª—é—á –≤–∑—è—Ç –∏–∑ **–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞** RevenueCat.

---

## üìã –ß–µ–∫-–ª–∏—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

- [ ] –ó–∞—à–µ–ª –≤ RevenueCat Dashboard ‚Üí Project Settings ‚Üí API Keys
- [ ] –ù–∞—à–µ–ª —Ä–∞–∑–¥–µ–ª **Public SDK Keys** (–ù–ï Secret Keys)
- [ ] –í—ã–±—Ä–∞–ª –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ Android –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å Package `com.aidkit`
- [ ] –°–∫–æ–ø–∏—Ä–æ–≤–∞–ª **Android Public SDK Key**
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª —Ñ–æ—Ä–º–∞—Ç: –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `goog_test_` –∏–ª–∏ `goog_`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª Package Name –≤ RevenueCat: `com.aidkit`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª `applicationId` –≤ `android/app/build.gradle`: `com.aidkit`
- [ ] –û–±–Ω–æ–≤–∏–ª –∫–ª—é—á –≤ `subscriptionConfig.ts`
- [ ] –°–æ—Ö—Ä–∞–Ω–∏–ª —Ñ–∞–π–ª
- [ ] –û—á–∏—Å—Ç–∏–ª –∫–µ—à Metro: `yarn start --reset-cache`
- [ ] –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

---

## üöÄ –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç

1. **–£–¥–∞–ª–∏—Ç–µ –∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ RevenueCat:**
   - –£–¥–∞–ª–∏—Ç–µ Android –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞
   - –°–æ–∑–¥–∞–π—Ç–µ –∑–∞–Ω–æ–≤–æ —Å Package `com.aidkit`
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–π Public SDK Key

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É:**
   - RevenueCat —Ç—Ä–µ–±—É–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–ª—é—á–∞

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é react-native-purchases:**
   ```bash
   yarn list react-native-purchases
   ```
   –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–µ—Ä—Å–∏—è 7.0.0 –∏–ª–∏ –≤—ã—à–µ

4. **–û—á–∏—Å—Ç–∏—Ç–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é:**
   ```bash
   # –û—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞ Metro
   yarn start --reset-cache
   
   # –û—á–∏—Å—Ç–∫–∞ Android build
   cd android && ./gradlew clean && cd ..
   
   # –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞
   yarn android
   ```

---

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è** –æ—à–∏–±–∫–∞ –¥–æ–ª–∂–Ω–∞ –∏—Å—á–µ–∑–Ω—É—Ç—å, –∏ RevenueCat –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ! ‚úÖ

